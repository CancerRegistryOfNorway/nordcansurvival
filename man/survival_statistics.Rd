% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/survival_statistics.R
\name{survival_statistics}
\alias{survival_statistics}
\title{survival_statistics}
\usage{
survival_statistics(
  stata_exe_path = NULL,
  infile,
  lifetable,
  outfile = "survival_statistics",
  estimand = "netsurvival",
  by = c("entity", "sex", "period_5"),
  standstrata = "agegroup_ICSS_5",
  iweight = "weights_ICSS_5"
)
}
\arguments{
\item{stata_exe_path}{This is set in the NORDCAN settings by default}

\item{infile}{path to a dataset of cancer records}

\item{lifetable}{(mandatory, default by NORDCAN system)}

\item{outfile}{path where to write result file}

\item{estimand}{defaults to "netsurvival" the only option so far}

\item{by}{names of columns in file `infile` by which to stratify
results}

\item{standstrata}{names of columns in file `infile` by which to standardise
results}

\item{iweight}{name of weight column in file `infile`}
}
\value{
survival analysis output in csv and dta format.


}
\description{
Provides non-parametric estimate of marginal relative survival, which under assumptions can be 
interpreted as marginal net survival. survival_statistics() is calling the Stata stnet program, 
using the Pohar Perme estimator with Brenner weighting to estimate age-standardized net survival.

The beta version provides 5-year survival only.

For some entities estimation is not possible because there are no data in some age stratum used
for weighting. 

In the beta version there is no lower limit to data, execpt there must be at least one observation 
in each strata.
}
\examples{


library(nordcansurvival)
infile <-  paste0(system.file(package = "nordcansurvival"), 
                  "/Stata/demo/NCS_NO_anonymous_example_data.dta")
lifetable <- paste0(system.file(package = "nordcansurvival"), 
                    "/Stata/demo/NO_2018_lifetable.dta")


nordcancore::set_global_nordcan_settings(
  work_dir = getwd(),
  participant_name = "Finland",
  stat_cancer_record_count_first_year = 1953L,
  stat_cancer_death_count_first_year = 1953L,
  regional_data_first_year = 1953L
)


survival_statistics(infile  = infile , 
                   lifetable = lifetable, 
                   stata_exe_path = "S:/Prog64/STATA/Stata16MP/StataMP-64.exe")


}
